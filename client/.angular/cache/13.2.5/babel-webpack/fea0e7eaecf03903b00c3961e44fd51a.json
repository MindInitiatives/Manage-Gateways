{"ast":null,"code":"import _asyncToGenerator from \"/Users/stephenoloto/Desktop/Manage Gateways/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { HttpHeaders } from '@angular/common/http';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { BaseUrl } from '../baseurl';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class GatewayService extends BaseUrl {\n  constructor(http) {\n    super();\n    this.http = http;\n  }\n\n  createGateway(data) {\n    let headers = new HttpHeaders({\n      'Content-Type': 'application/json'\n    });\n    console.log(headers);\n    return this.http.post( // this.BASE_URL\n    '/', data, {\n      headers\n    }).pipe(map(response => {\n      return response;\n    }), catchError( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (error) {\n        return console.log(error);\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()));\n  }\n\n  getAllGateways() {\n    return this.http.get( // this.BASE_URL\n    '/', {\n      headers: new HttpHeaders({\n        'content-type': 'application/json'\n      })\n    });\n  }\n\n  getGatewayById(id) {\n    return this.http.get( // this.BASE_URL + \n    '/gateway?id=' + id, {\n      headers: new HttpHeaders({\n        'content-type': 'application/json'\n      })\n    });\n  }\n\n  updateGateway(gatewayData, id) {\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json'\n    });\n    return this.http.put( // this.BASE_URL +\n    '/gateway?id=' + id, gatewayData, {\n      headers\n    }).pipe(tap(updatedGatewayDetail => console.log(`updated gateway detail = ${JSON.stringify(updatedGatewayDetail)}`)), catchError( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (error) {\n        return console.log(error);\n      });\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()));\n  }\n\n  deleteGateway(id) {\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json'\n    });\n    console.log(headers);\n    return this.http.delete( // this.BASE_URL +\n    '/gateway?id=' + id, {\n      headers\n    });\n  }\n\n  deleteGatewayDevice(id, deviceId) {\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json'\n    });\n    console.log(headers);\n    return this.http.delete( // this.BASE_URL +\n    '/gateway/device?id=' + id + '&uid=' + deviceId, {\n      headers\n    });\n  }\n\n}\n\nGatewayService.ɵfac = function GatewayService_Factory(t) {\n  return new (t || GatewayService)(i0.ɵɵinject(i1.HttpClient));\n};\n\nGatewayService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: GatewayService,\n  factory: GatewayService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/Users/stephenoloto/Desktop/Manage Gateways/client/src/app/services/gateway.service.ts"],"names":["HttpHeaders","catchError","map","tap","BaseUrl","i0","i1","GatewayService","constructor","http","createGateway","data","headers","console","log","post","pipe","response","error","getAllGateways","get","getGatewayById","id","updateGateway","gatewayData","put","updatedGatewayDetail","JSON","stringify","deleteGateway","delete","deleteGatewayDevice","deviceId","ɵfac","GatewayService_Factory","t","ɵɵinject","HttpClient","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":"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","sourcesContent":["import { HttpHeaders } from '@angular/common/http';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { BaseUrl } from '../baseurl';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class GatewayService extends BaseUrl {\n    constructor(http) {\n        super();\n        this.http = http;\n    }\n    createGateway(data) {\n        let headers = new HttpHeaders({\n            'Content-Type': 'application/json'\n        });\n        console.log(headers);\n        return this.http\n            .post(\n        // this.BASE_URL\n        '/', data, {\n            headers,\n        })\n            .pipe(map((response) => {\n            return response;\n        }), catchError(async (error) => console.log(error)));\n    }\n    getAllGateways() {\n        return this.http.get(\n        // this.BASE_URL\n        '/', {\n            headers: new HttpHeaders({\n                'content-type': 'application/json'\n            }),\n        });\n    }\n    getGatewayById(id) {\n        return this.http.get(\n        // this.BASE_URL + \n        '/gateway?id=' + id, {\n            headers: new HttpHeaders({\n                'content-type': 'application/json'\n            }),\n        });\n    }\n    updateGateway(gatewayData, id) {\n        const headers = new HttpHeaders({\n            'Content-Type': 'application/json'\n        });\n        return this.http\n            .put(\n        // this.BASE_URL +\n        '/gateway?id=' + id, gatewayData, { headers })\n            .pipe(tap((updatedGatewayDetail) => console.log(`updated gateway detail = ${JSON.stringify(updatedGatewayDetail)}`)), catchError(async (error) => console.log(error)));\n    }\n    deleteGateway(id) {\n        const headers = new HttpHeaders({\n            'Content-Type': 'application/json'\n        });\n        console.log(headers);\n        return this.http.delete(\n        // this.BASE_URL +\n        '/gateway?id=' + id, { headers });\n    }\n    deleteGatewayDevice(id, deviceId) {\n        const headers = new HttpHeaders({\n            'Content-Type': 'application/json'\n        });\n        console.log(headers);\n        return this.http.delete(\n        // this.BASE_URL +\n        '/gateway/device?id=' + id + '&uid=' + deviceId, { headers });\n    }\n}\nGatewayService.ɵfac = function GatewayService_Factory(t) { return new (t || GatewayService)(i0.ɵɵinject(i1.HttpClient)); };\nGatewayService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: GatewayService, factory: GatewayService.ɵfac, providedIn: 'root' });\n"]},"metadata":{},"sourceType":"module"}